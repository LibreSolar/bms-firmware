Search.setIndex({"docnames": ["index", "src/api/bms", "src/api/bms_ic", "src/api/data_objects", "src/api/misc", "src/dev/building_flashing", "src/dev/customization", "src/dev/simulator", "src/dev/unit_tests", "src/dev/workspace_setup", "src/features", "src/supported_hardware"], "filenames": ["index.rst", "src/api/bms.rst", "src/api/bms_ic.rst", "src/api/data_objects.rst", "src/api/misc.rst", "src/dev/building_flashing.rst", "src/dev/customization.rst", "src/dev/simulator.rst", "src/dev/unit_tests.rst", "src/dev/workspace_setup.rst", "src/features.rst", "src/supported_hardware.rst"], "titles": ["Libre Solar BMS Firmware Documentation", "BMS application", "BMS front-end IC driver", "Data Objects", "Misc", "Building and Flashing", "Customization", "Simulator", "Unit Tests", "Workspace Setup", "Features", "Supported Hardware"], "terms": {"thi": [0, 2, 5, 6, 9, 11], "describ": [0, 5, 6], "base": [0, 1, 6, 10], "zephyr": [0, 5, 6, 7, 8, 9, 10], "rto": 0, "differ": [0, 1, 2, 10, 11], "batteri": [0, 1, 2], "manag": [0, 1, 2], "system": [0, 1, 2, 6], "The": [0, 1, 2, 4, 5, 6, 7, 8, 11], "i": [0, 1, 2, 4, 5, 6, 8, 11], "under": [0, 2, 5, 10], "ongo": 0, "develop": [0, 6, 8], "most": [0, 1, 2, 5, 9], "recent": [0, 1, 5], "version": [0, 5], "can": [0, 1, 2, 6, 9, 10], "found": 0, "github": [0, 5, 9], "licens": 0, "creativ": 0, "common": [0, 1, 3], "attribut": 0, "sharealik": 0, "4": [0, 1, 5, 11], "0": [0, 1, 2, 5, 6, 11], "intern": [0, 1, 2], "cc": 0, "BY": 0, "sa": 0, "full": [0, 1, 6, 11], "text": 0, "avail": [0, 5, 10, 11], "http": [0, 9, 10], "creativecommon": 0, "org": 0, "defin": [1, 2, 3, 6], "struct": [1, 2], "bms_switch_chg": 1, "bms_switch_di": 1, "bms_switch_pdsg": 1, "bms_switch_pchg": 1, "bms_err_cell_undervoltag": 1, "cell": [1, 2, 10, 11], "undervoltag": 1, "flag": [1, 2], "bms_err_cell_overvoltag": 1, "overvoltag": 1, "bms_err_short_circuit": 1, "pack": [1, 10], "short": [1, 10], "circuit": [1, 10], "discharg": [1, 2, 10], "direct": 1, "bms_err_dis_overcurr": 1, "overcurr": 1, "bms_err_chg_overcurr": 1, "charg": [1, 2, 10], "bms_err_open_wir": 1, "open": [1, 10], "wire": 1, "bms_err_dis_undertemp": 1, "temperatur": [1, 2, 10], "below": [1, 6, 9, 11], "minimum": [1, 2, 10], "limit": [1, 2, 10], "bms_err_dis_overtemp": 1, "abov": [1, 5], "maximum": [1, 2], "bms_err_chg_undertemp": 1, "bms_err_chg_overtemp": 1, "bms_err_int_overtemp": 1, "e": [1, 2, 5, 6, 9, 10], "g": [1, 2, 5, 6, 9, 10], "ic": [1, 5, 7], "bms_err_cell_failur": 1, "failur": 1, "too": 1, "high": 1, "voltag": [1, 2, 10, 11], "bms_err_dis_off": 1, "fet": [1, 2], "off": [1, 2, 4, 7], "even": 1, "though": 1, "should": [1, 2, 5, 8], "bms_err_chg_off": 1, "bms_err_fet_overtemp": 1, "mosfet": 1, "bms_err_al": 1, "level": 1, "api": [1, 2], "num_ocv_point": 1, "enum": [1, 2, 3], "bms_state": 1, "possibl": [1, 5, 6, 10], "state": 1, "valu": [1, 2, 3, 4], "enumer": [1, 2], "bms_state_off": 1, "disabl": [1, 2, 6], "bms_state_chg": 1, "bms_state_di": 1, "bms_state_norm": 1, "normal": [1, 2], "oper": [1, 2], "mode": [1, 2], "both": 1, "enabl": [1, 2, 5, 6, 10], "bms_state_shutdown": 1, "start": [1, 2, 10], "shutdown": [1, 3], "sequenc": 1, "bms_cell_typ": 1, "type": [1, 3, 5, 10], "cell_type_lfp": 1, "lifepo4": [1, 6, 10], "li": 1, "ion": 1, "3": [1, 4, 5, 11], "v": [1, 2, 10], "nomin": [1, 6, 10], "cell_type_nmc": 1, "nmc": [1, 3, 10], "graphit": 1, "7": 1, "cell_type_lto": 1, "titan": 1, "2": [1, 5, 6, 11], "function": [1, 2, 3, 4, 8], "void": [1, 2, 3, 4], "bms_init_config": 1, "bms_context": 1, "float": [1, 2, 4], "capacity_ah": 1, "initi": [1, 4, 5, 9], "bms_ic_conf": [1, 2], "typic": 1, "default": [1, 5, 6], "given": 1, "paramet": [1, 2, 3, 4, 5], "pointer": [1, 2, 4], "object": [1, 2], "One": 1, "celltyp": 1, "int": [1, 2], "so": [1, 5, 6], "set": [1, 2, 5, 6, 9], "via": [1, 3, 6, 10], "kconfig": [1, 6], "capac": [1, 10], "bms_state_machin": 1, "main": [1, 5, 6, 9], "machin": 1, "bms_shutdown": [1, 3], "switch": [1, 2, 4, 5, 9], "go": [1, 2, 9], "bms_soc_upd": 1, "updat": [1, 2, 5, 9], "soc": [1, 10], "current": [1, 2, 7, 10, 11], "measur": [1, 2], "call": [1, 2, 3, 6], "each": [1, 9], "time": [1, 9], "after": 1, "new": [1, 5, 6, 8, 9], "wa": [1, 2, 4], "obtain": 1, "bms_soc_reset": 1, "percent": 1, "reset": [1, 2, 3, 5, 10], "specifi": [1, 2, 6], "calcul": 1, "averag": [1, 2], "100": [1, 5, 6], "1": [1, 5, 6, 11], "ocv": [1, 10], "bool": [1, 2, 4], "bms_chg_error": 1, "uint32_t": [1, 2], "error_flag": [1, 2], "error": [1, 2, 10], "check": [1, 4], "return": [1, 2, 4], "true": [1, 4], "ani": 1, "bms_dis_error": 1, "bms_chg_allow": 1, "allow": [1, 6, 7, 11], "ar": [1, 6, 11], "bms_dis_allow": 1, "includ": [1, 2, 6], "h": [1, 2], "context": 1, "inform": 1, "public": [1, 2, 6], "member": [1, 2], "chg_enabl": 1, "manual": [1, 2, 6], "dis_en": 1, "cv": 1, "cell_chg_voltage_limit": [1, 2], "finish": [1, 5], "empti": 1, "cell_dis_voltage_limit": [1, 2], "nominal_capacity_ah": 1, "ah": 1, "ocv_point": 1, "an": [1, 2, 6, 7], "arrai": [1, 4], "contain": [1, 5, 6, 9], "must": [1, 2, 4], "space": 1, "same": [1, 9], "soc_point": 1, "point": 1, "const": [1, 2, 4], "devic": [1, 2, 3], "ic_dev": 1, "ic_conf": [1, 2], "configur": [1, 2, 4, 9, 10, 11], "appli": [1, 2, 3], "dure": [1, 5], "up": [1, 4, 5, 9, 10], "bms_ic_data": [1, 2], "ic_data": [1, 2], "data": [1, 2, 6], "read": [1, 2, 3], "from": [1, 2, 5, 6, 10], "bms_ic_conf_voltage_limit": 2, "bms_ic_conf_temp_limit": 2, "bms_ic_conf_current_limit": 2, "bms_ic_conf_balanc": 2, "bms_ic_conf_alert": 2, "bms_ic_conf_voltage_reg": 2, "bms_ic_conf_al": 2, "bms_ic_data_cell_voltag": 2, "bms_ic_data_pack_voltag": 2, "bms_ic_data_temperatur": 2, "bms_ic_data_curr": 2, "bms_ic_data_balanc": 2, "bms_ic_data_error_flag": 2, "bms_ic_data_al": 2, "bms_ic_mod": 2, "bms_ic_mode_act": 2, "bms_ic_mode_idl": 2, "low": 2, "power": [2, 7], "still": [2, 8], "bms_ic_mode_standbi": 2, "regul": 2, "host": [2, 5, 7], "mcu": [2, 6, 11], "bms_ic_mode_off": 2, "lowest": 2, "all": [2, 5, 6, 9, 10], "static": [2, 4], "inlin": [2, 8], "bms_ic_configur": 2, "dev": [2, 5, 7], "write": [2, 8], "config": [2, 9], "onli": [2, 5, 6], "discret": 2, "step": [2, 5, 8], "resolut": 2, "actual": 2, "written": 2, "back": 2, "structur": 2, "instanc": 2, "which": [2, 5, 6, 11], "part": 2, "see": [2, 5, 6], "bms_ic_conf_": 2, "valid": 2, "appl_flag": 2, "successfulli": 2, "mai": [2, 5, 9], "than": 2, "request": 2, "enotsup": 2, "none": 2, "support": [2, 5], "eio": 2, "commun": [2, 5, 7], "bms_ic_assign_data": 2, "assign": 2, "us": [2, 4, 5, 6, 7, 8, 9, 10, 11], "bms_ic_read_data": 2, "alloc": 2, "success": 2, "neg": 2, "code": [2, 5], "otherwis": 2, "befor": [2, 5, 10], "bms_ic_data_": 2, "einval": 2, "provid": [2, 5, 11], "enomem": 2, "bms_ic_bal": 2, "balanc": [2, 10, 11], "bitset": 2, "": [2, 5, 7, 8, 10], "ebusi": 2, "automat": [2, 6, 10], "through": 2, "invalid": 2, "bms_ic_set_mod": 2, "usual": [2, 11], "sleep": 2, "reduc": 2, "consumpt": 2, "desir": [2, 5], "bms_ic_read_mem": 2, "uint16_t": 2, "addr": 2, "uint8_t": [2, 4], "size_t": [2, 4], "len": 2, "bms_ic_write_mem": 2, "bms_ic_debug_print_mem": 2, "bms_ic": 2, "store": [2, 6], "ram": 2, "target": [2, 5, 10], "cell_ov_limit": 2, "over": [2, 10], "cell_ov_reset": 2, "threshold": [2, 10], "cell_ov_delay_m": 2, "delai": [2, 10], "m": [2, 5, 9, 10], "cell_uv_limit": 2, "cell_uv_reset": 2, "cell_uv_delay_m": 2, "dis_ot_limit": 2, "dot": [2, 10], "c": [2, 5, 10], "dis_ut_limit": 2, "dut": [2, 10], "chg_ot_limit": 2, "cot": [2, 10], "chg_ut_limit": 2, "cut": [2, 10], "temp_limit_hyst": 2, "hysteresi": [2, 10], "bal_cell_voltage_diff": 2, "bal_cell_voltage_min": 2, "bal_idle_curr": 2, "consid": [2, 10], "idl": [2, 10], "A": [2, 4, 10], "bal_idle_delai": 2, "durat": [2, 10], "auto_balanc": 2, "control": 2, "vregs_en": 2, "bitfield": 2, "built": [2, 5], "ldo": 2, "bit": [2, 4], "posit": [2, 4], "correspond": 2, "number": [2, 10], "manufactur": [2, 11], "datasheet": [2, 11], "0x2": 2, "would": 2, "reg1": 2, "alert_mask": 2, "trigger": 2, "alert": 2, "action": 2, "statu": [2, 11], "cell_voltag": 2, "config_bms_ic_max_cel": 2, "singl": [2, 5, 11], "cell_voltage_max": 2, "cell_voltage_min": 2, "cell_voltage_avg": 2, "total_voltag": 2, "stack": 2, "cell_temp": 2, "config_bms_ic_max_thermistor": 2, "cell_temp_max": 2, "cell_temp_min": 2, "cell_temp_avg": 2, "ic_temp": 2, "connected_cel": 2, "connect": [2, 5, 6], "less": 2, "used_thermistor": 2, "thermistor": [2, 10], "balancing_statu": 2, "channel": 2, "bms_err_": 2, "handl": [3, 4, 5], "thingset": [3, 5, 6, 7, 10], "node": [3, 5], "app_id_devic": 3, "app_id_device_manufactur": 3, "app_id_device_typ": 3, "app_id_device_hw_v": 3, "app_id_device_fw_v": 3, "app_id_device_shutdown": 3, "app_id_device_reset": 3, "app_id_device_print_reg": 3, "app_id_device_print_reg_addr": 3, "app_id_conf": 3, "app_id_conf_nominal_capac": 3, "app_id_conf_short_circuit_curr": 3, "app_id_conf_short_circuit_delai": 3, "app_id_conf_dis_overcurr": 3, "app_id_conf_dis_overcurrent_delai": 3, "app_id_conf_chg_overcurr": 3, "app_id_conf_chg_overcurrent_delai": 3, "app_id_conf_dis_max_temp": 3, "app_id_conf_dis_min_temp": 3, "app_id_conf_chg_max_temp": 3, "app_id_conf_chg_min_temp": 3, "app_id_conf_temp_hyst": 3, "app_id_conf_cell_overvoltag": 3, "app_id_conf_cell_overvoltage_reset": 3, "app_id_conf_cell_overvoltage_delai": 3, "app_id_conf_cell_undervoltag": 3, "app_id_conf_cell_undervoltage_reset": 3, "app_id_conf_cell_undervoltage_delai": 3, "app_id_conf_bal_target_diff": 3, "app_id_conf_bal_min_voltag": 3, "app_id_conf_bal_idle_delai": 3, "app_id_conf_bal_idle_curr": 3, "app_id_conf_preset_nmc": 3, "app_id_conf_preset_nmc_capac": 3, "app_id_conf_preset_lfp": 3, "app_id_conf_preset_lfp_capac": 3, "app_id_conf_preset_lto": 3, "app_id_conf_preset_lto_capac": 3, "app_id_conf_ocv_point": 3, "app_id_conf_soc_point": 3, "app_id_mea": 3, "app_id_meas_pack_voltag": 3, "app_id_meas_stack_voltag": 3, "app_id_meas_pack_curr": 3, "app_id_meas_cell_temp": 3, "app_id_meas_ic_temp": 3, "app_id_meas_mcu_temp": 3, "app_id_meas_mosfet_temp": 3, "app_id_meas_soc": 3, "app_id_meas_error_flag": 3, "app_id_meas_bms_st": 3, "app_id_meas_cell_voltag": 3, "app_id_meas_cell_avg_voltag": 3, "app_id_meas_cell_min_voltag": 3, "app_id_meas_cell_max_voltag": 3, "app_id_meas_balancing_statu": 3, "app_id_input": 3, "app_id_input_chg_en": 3, "app_id_input_dis_en": 3, "data_objects_update_conf": 3, "thingset_callback_reason": 3, "reason": 3, "callback": 3, "when": [3, 6], "conf": [3, 6], "were": 3, "chang": 3, "int32_t": 3, "bat_preset_nmc": 3, "preset": 3, "bat_preset_lfp": 3, "lfp": 3, "bat_preset_lto": 3, "lto": [3, 10], "print_regist": 3, "print": [3, 5], "bm": [3, 5, 6, 7, 9, 10], "regist": 3, "reset_devic": 3, "obvious": 3, "invok": 3, "button_init": 4, "interrupt": 4, "button_pressed_for_3": 4, "press": [4, 5], "second": [4, 6], "least": [4, 5], "gener": 4, "interpol": 4, "b": [4, 5, 6, 7], "size": 4, "value_a": 4, "look": [4, 9, 10], "tabl": [4, 5, 10], "monoton": 4, "increas": 4, "decreas": 4, "char": 4, "byte2bitstr": 4, "convert": 4, "byte": [4, 5], "string": 4, "attent": 4, "buffer": 4, "thread": 4, "safe": 4, "8": [4, 11], "charact": 4, "null": 4, "is_empti": 4, "buf": 4, "entir": [4, 5, 7], "zero": 4, "fals": 4, "As": 5, "branch": 5, "unstabl": 5, "make": 5, "sure": 5, "select": 5, "releas": 5, "list": [5, 6, 11], "git": [5, 9], "your": [5, 9], "west": [5, 6, 7, 9], "name": 5, "revis": [5, 11], "libr": [5, 9, 11], "solar": [5, 9, 11], "c1": [5, 11], "bms_c1": 5, "requir": [5, 9], "addit": [5, 6], "get": 5, "binari": 5, "blob": 5, "fetch": 5, "hal_espressif": 5, "afterward": [5, 9], "you": [5, 9], "we": 5, "recommend": 5, "picocom": 5, "serial": [5, 10], "consol": 5, "linux": [5, 7], "add": [5, 6], "lower": 5, "dtr": 5, "order": [5, 6, 7], "log": [5, 8], "output": 5, "boot": 5, "seen": 5, "ttyacm0": 5, "ctrl": 5, "follow": [5, 6, 7, 8, 10], "q": 5, "exit": 5, "5s50": [5, 11], "sc": [5, 11], "bms_5s50_sc": 5, "15s80": [5, 11], "bms_15s80_sc": 5, "16s100": [5, 11], "bms_16s100_sc": 5, "8s50": [5, 11], "bms_8s50_ic": [5, 6], "hardwar": [5, 10], "further": 5, "omit": 5, "also": [5, 6, 9, 11], "here": [5, 7], "more": 5, "detail": 5, "regard": 5, "For": [5, 6], "specif": [5, 9], "debug": 5, "probe": 5, "runner": 5, "j": 5, "link": 5, "command": [5, 6, 7, 8, 9], "r": 5, "jlink": 5, "115200": 5, "larg": 5, "enough": 5, "transport": 5, "protocol": [5, 6, 10], "ha": [5, 6, 10], "been": 5, "test": [5, 7, 9], "first": 5, "mcuboot": 5, "sysbuild": 5, "rm": 5, "rf": 5, "With": 5, "need": 5, "comput": 5, "replac": 5, "can0": 5, "interfac": [5, 10], "sudo": [5, 7], "ip": 5, "bitrat": 5, "500000": 5, "restart": 5, "500": 5, "candump": 5, "some": [5, 6], "publish": [5, 6], "messag": 5, "bu": [5, 10], "send": 5, "imag": 5, "python": 5, "script": [5, 8], "sdk": [5, 9], "py": 5, "t": [5, 6, 7, 8], "0x01": 5, "app": [5, 6, 9], "sign": 5, "bin": 5, "address": 5, "If": [5, 6, 9], "other": [5, 6, 7, 9], "end": 5, "It": [5, 6], "determin": 5, "sourc": [5, 9], "becom": 5, "signific": 5, "id": 5, "right": 5, "everyth": 5, "work": [5, 8], "correctli": 5, "progress": [5, 8], "bar": 5, "show": 5, "322": 5, "kib": 5, "easi": 6, "board": [6, 7, 9, 10], "In": [6, 7], "devicetre": 6, "file": [6, 9], "arm": 6, "board_nam": 6, "dt": 6, "repositori": [6, 9], "overwrit": 6, "overlai": 6, "line": 6, "subfold": 6, "recogn": 6, "build": [6, 7, 8], "featur": [6, 7, 11], "menuconfig": 6, "prj": 6, "option": [6, 10], "similar": 6, "per": 6, "creat": [6, 9], "folder": [6, 9], "merg": 6, "By": 6, "config_cell_type_lfp": 6, "pre": 6, "config_bat_type_nmc": 6, "config_bat_type_nmc_hv": 6, "config_bat_type_lto": 6, "config_bms_ic_isl94202_num_cel": 6, "isl94202": [6, 11], "chip": [6, 11], "detect": 6, "To": 6, "compil": 6, "24v": 6, "100ah": 6, "config_bat_capacity_ah": 6, "y": 6, "expos": 6, "its": 6, "live": 6, "interv": 6, "snippet": 6, "chosen": 6, "usart2": 6, "regular": 6, "startup": 6, "config_thingset_reporting_live_enable_preset": 6, "n": [6, 8], "period": 6, "config_thingset_reporting_live_period_preset": 6, "10": [6, 11], "There": 6, "like": [6, 9], "ol": 6, "displai": 6, "exampl": 6, "dextra_conf_fil": 6, "dshield": 6, "uext_ol": 6, "run": [7, 8], "applic": [7, 9], "mac": 7, "native_sim": 7, "firmwar": [7, 9, 11], "doe": 7, "mock": 7, "howev": 7, "basic": 7, "execut": 7, "bluetooth": [7, 10], "adapt": 7, "hci0": 7, "instal": [7, 9], "bluez": 7, "util": 7, "btmgmt": 7, "ex": 7, "bt": 7, "implement": 8, "driven": 8, "fashion": 8, "old": 8, "ad": 8, "ztest": 8, "framework": 8, "twister": 8, "tool": [8, 9], "integr": 8, "guid": 9, "assum": 9, "have": 9, "alreadi": 9, "accord": 9, "document": 9, "pull": 9, "init": 9, "com": 9, "libresolar": 9, "cd": 9, "upstream": 9, "modul": 9, "take": 9, "while": 9, "import": 9, "unit": 9, "yml": 9, "manifest": 9, "re": 9, "avoid": 9, "mani": 9, "copi": 9, "directori": 9, "clone": 9, "done": 9, "between": 9, "path": 9, "amongst": 10, "inherit": 10, "underli": 10, "monitor": [10, 11], "map": 10, "mqtt": 10, "coap": 10, "extens": 10, "uext": 10, "connector": 10, "depend": 10, "i2c": 10, "spi": 10, "uart": 10, "estim": 10, "coulomb": 10, "count": 10, "layout": 10, "chemistri": 10, "nca": 10, "shunt": 10, "resistor": 10, "custom": 10, "protect": [10, 11], "u": 10, "softwar": 11, "easili": 11, "stm32": 11, "esp32": 11, "stm32f072": 11, "bq76920": 11, "bq76930": 11, "40": 11, "stm32g0b1": 11, "bq76952": 11, "c3": 11, "stm32l452": 11, "texa": 11, "instrument": 11, "5": 11, "6": 11, "bq76940": 11, "9": 11, "15": 11, "16": 11, "renesa": 11, "intersil": 11}, "objects": {"": [[3, 0, 1, "c.APP_ID_CONF", "APP_ID_CONF"], [3, 0, 1, "c.APP_ID_CONF_BAL_IDLE_CURRENT", "APP_ID_CONF_BAL_IDLE_CURRENT"], [3, 0, 1, "c.APP_ID_CONF_BAL_IDLE_DELAY", "APP_ID_CONF_BAL_IDLE_DELAY"], [3, 0, 1, "c.APP_ID_CONF_BAL_MIN_VOLTAGE", "APP_ID_CONF_BAL_MIN_VOLTAGE"], [3, 0, 1, "c.APP_ID_CONF_BAL_TARGET_DIFF", "APP_ID_CONF_BAL_TARGET_DIFF"], [3, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE", "APP_ID_CONF_CELL_OVERVOLTAGE"], [3, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE_DELAY", "APP_ID_CONF_CELL_OVERVOLTAGE_DELAY"], [3, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE_RESET", "APP_ID_CONF_CELL_OVERVOLTAGE_RESET"], [3, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE", "APP_ID_CONF_CELL_UNDERVOLTAGE"], [3, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY", "APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY"], [3, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_RESET", "APP_ID_CONF_CELL_UNDERVOLTAGE_RESET"], [3, 0, 1, "c.APP_ID_CONF_CHG_MAX_TEMP", "APP_ID_CONF_CHG_MAX_TEMP"], [3, 0, 1, "c.APP_ID_CONF_CHG_MIN_TEMP", "APP_ID_CONF_CHG_MIN_TEMP"], [3, 0, 1, "c.APP_ID_CONF_CHG_OVERCURRENT", "APP_ID_CONF_CHG_OVERCURRENT"], [3, 0, 1, "c.APP_ID_CONF_CHG_OVERCURRENT_DELAY", "APP_ID_CONF_CHG_OVERCURRENT_DELAY"], [3, 0, 1, "c.APP_ID_CONF_DIS_MAX_TEMP", "APP_ID_CONF_DIS_MAX_TEMP"], [3, 0, 1, "c.APP_ID_CONF_DIS_MIN_TEMP", "APP_ID_CONF_DIS_MIN_TEMP"], [3, 0, 1, "c.APP_ID_CONF_DIS_OVERCURRENT", "APP_ID_CONF_DIS_OVERCURRENT"], [3, 0, 1, "c.APP_ID_CONF_DIS_OVERCURRENT_DELAY", "APP_ID_CONF_DIS_OVERCURRENT_DELAY"], [3, 0, 1, "c.APP_ID_CONF_NOMINAL_CAPACITY", "APP_ID_CONF_NOMINAL_CAPACITY"], [3, 0, 1, "c.APP_ID_CONF_OCV_POINTS", "APP_ID_CONF_OCV_POINTS"], [3, 0, 1, "c.APP_ID_CONF_PRESET_LFP", "APP_ID_CONF_PRESET_LFP"], [3, 0, 1, "c.APP_ID_CONF_PRESET_LFP_CAPACITY", "APP_ID_CONF_PRESET_LFP_CAPACITY"], [3, 0, 1, "c.APP_ID_CONF_PRESET_LTO", "APP_ID_CONF_PRESET_LTO"], [3, 0, 1, "c.APP_ID_CONF_PRESET_LTO_CAPACITY", "APP_ID_CONF_PRESET_LTO_CAPACITY"], [3, 0, 1, "c.APP_ID_CONF_PRESET_NMC", "APP_ID_CONF_PRESET_NMC"], [3, 0, 1, "c.APP_ID_CONF_PRESET_NMC_CAPACITY", "APP_ID_CONF_PRESET_NMC_CAPACITY"], [3, 0, 1, "c.APP_ID_CONF_SHORT_CIRCUIT_CURRENT", "APP_ID_CONF_SHORT_CIRCUIT_CURRENT"], [3, 0, 1, "c.APP_ID_CONF_SHORT_CIRCUIT_DELAY", "APP_ID_CONF_SHORT_CIRCUIT_DELAY"], [3, 0, 1, "c.APP_ID_CONF_SOC_POINTS", "APP_ID_CONF_SOC_POINTS"], [3, 0, 1, "c.APP_ID_CONF_TEMP_HYST", "APP_ID_CONF_TEMP_HYST"], [3, 0, 1, "c.APP_ID_DEVICE", "APP_ID_DEVICE"], [3, 0, 1, "c.APP_ID_DEVICE_FW_VER", "APP_ID_DEVICE_FW_VER"], [3, 0, 1, "c.APP_ID_DEVICE_HW_VER", "APP_ID_DEVICE_HW_VER"], [3, 0, 1, "c.APP_ID_DEVICE_MANUFACTURER", "APP_ID_DEVICE_MANUFACTURER"], [3, 0, 1, "c.APP_ID_DEVICE_PRINT_REG", "APP_ID_DEVICE_PRINT_REG"], [3, 0, 1, "c.APP_ID_DEVICE_PRINT_REGS", "APP_ID_DEVICE_PRINT_REGS"], [3, 0, 1, "c.APP_ID_DEVICE_PRINT_REG_ADDR", "APP_ID_DEVICE_PRINT_REG_ADDR"], [3, 0, 1, "c.APP_ID_DEVICE_RESET", "APP_ID_DEVICE_RESET"], [3, 0, 1, "c.APP_ID_DEVICE_SHUTDOWN", "APP_ID_DEVICE_SHUTDOWN"], [3, 0, 1, "c.APP_ID_DEVICE_TYPE", "APP_ID_DEVICE_TYPE"], [3, 0, 1, "c.APP_ID_INPUT", "APP_ID_INPUT"], [3, 0, 1, "c.APP_ID_INPUT_CHG_ENABLE", "APP_ID_INPUT_CHG_ENABLE"], [3, 0, 1, "c.APP_ID_INPUT_DIS_ENABLE", "APP_ID_INPUT_DIS_ENABLE"], [3, 0, 1, "c.APP_ID_MEAS", "APP_ID_MEAS"], [3, 0, 1, "c.APP_ID_MEAS_BALANCING_STATUS", "APP_ID_MEAS_BALANCING_STATUS"], [3, 0, 1, "c.APP_ID_MEAS_BMS_STATE", "APP_ID_MEAS_BMS_STATE"], [3, 0, 1, "c.APP_ID_MEAS_CELL_AVG_VOLTAGE", "APP_ID_MEAS_CELL_AVG_VOLTAGE"], [3, 0, 1, "c.APP_ID_MEAS_CELL_MAX_VOLTAGE", "APP_ID_MEAS_CELL_MAX_VOLTAGE"], [3, 0, 1, "c.APP_ID_MEAS_CELL_MIN_VOLTAGE", "APP_ID_MEAS_CELL_MIN_VOLTAGE"], [3, 0, 1, "c.APP_ID_MEAS_CELL_TEMPS", "APP_ID_MEAS_CELL_TEMPS"], [3, 0, 1, "c.APP_ID_MEAS_CELL_VOLTAGES", "APP_ID_MEAS_CELL_VOLTAGES"], [3, 0, 1, "c.APP_ID_MEAS_ERROR_FLAGS", "APP_ID_MEAS_ERROR_FLAGS"], [3, 0, 1, "c.APP_ID_MEAS_IC_TEMP", "APP_ID_MEAS_IC_TEMP"], [3, 0, 1, "c.APP_ID_MEAS_MCU_TEMP", "APP_ID_MEAS_MCU_TEMP"], [3, 0, 1, "c.APP_ID_MEAS_MOSFET_TEMP", "APP_ID_MEAS_MOSFET_TEMP"], [3, 0, 1, "c.APP_ID_MEAS_PACK_CURRENT", "APP_ID_MEAS_PACK_CURRENT"], [3, 0, 1, "c.APP_ID_MEAS_PACK_VOLTAGE", "APP_ID_MEAS_PACK_VOLTAGE"], [3, 0, 1, "c.APP_ID_MEAS_SOC", "APP_ID_MEAS_SOC"], [3, 0, 1, "c.APP_ID_MEAS_STACK_VOLTAGE", "APP_ID_MEAS_STACK_VOLTAGE"], [1, 0, 1, "c.BMS_ERR_ALL", "BMS_ERR_ALL"], [1, 0, 1, "c.BMS_ERR_CELL_FAILURE", "BMS_ERR_CELL_FAILURE"], [1, 0, 1, "c.BMS_ERR_CELL_OVERVOLTAGE", "BMS_ERR_CELL_OVERVOLTAGE"], [1, 0, 1, "c.BMS_ERR_CELL_UNDERVOLTAGE", "BMS_ERR_CELL_UNDERVOLTAGE"], [1, 0, 1, "c.BMS_ERR_CHG_OFF", "BMS_ERR_CHG_OFF"], [1, 0, 1, "c.BMS_ERR_CHG_OVERCURRENT", "BMS_ERR_CHG_OVERCURRENT"], [1, 0, 1, "c.BMS_ERR_CHG_OVERTEMP", "BMS_ERR_CHG_OVERTEMP"], [1, 0, 1, "c.BMS_ERR_CHG_UNDERTEMP", "BMS_ERR_CHG_UNDERTEMP"], [1, 0, 1, "c.BMS_ERR_DIS_OFF", "BMS_ERR_DIS_OFF"], [1, 0, 1, "c.BMS_ERR_DIS_OVERCURRENT", "BMS_ERR_DIS_OVERCURRENT"], [1, 0, 1, "c.BMS_ERR_DIS_OVERTEMP", "BMS_ERR_DIS_OVERTEMP"], [1, 0, 1, "c.BMS_ERR_DIS_UNDERTEMP", "BMS_ERR_DIS_UNDERTEMP"], [1, 0, 1, "c.BMS_ERR_FET_OVERTEMP", "BMS_ERR_FET_OVERTEMP"], [1, 0, 1, "c.BMS_ERR_INT_OVERTEMP", "BMS_ERR_INT_OVERTEMP"], [1, 0, 1, "c.BMS_ERR_OPEN_WIRE", "BMS_ERR_OPEN_WIRE"], [1, 0, 1, "c.BMS_ERR_SHORT_CIRCUIT", "BMS_ERR_SHORT_CIRCUIT"], [2, 0, 1, "c.BMS_IC_CONF_ALERTS", "BMS_IC_CONF_ALERTS"], [2, 0, 1, "c.BMS_IC_CONF_ALL", "BMS_IC_CONF_ALL"], [2, 0, 1, "c.BMS_IC_CONF_BALANCING", "BMS_IC_CONF_BALANCING"], [2, 0, 1, "c.BMS_IC_CONF_CURRENT_LIMITS", "BMS_IC_CONF_CURRENT_LIMITS"], [2, 0, 1, "c.BMS_IC_CONF_TEMP_LIMITS", "BMS_IC_CONF_TEMP_LIMITS"], [2, 0, 1, "c.BMS_IC_CONF_VOLTAGE_LIMITS", "BMS_IC_CONF_VOLTAGE_LIMITS"], [2, 0, 1, "c.BMS_IC_CONF_VOLTAGE_REGS", "BMS_IC_CONF_VOLTAGE_REGS"], [2, 0, 1, "c.BMS_IC_DATA_ALL", "BMS_IC_DATA_ALL"], [2, 0, 1, "c.BMS_IC_DATA_BALANCING", "BMS_IC_DATA_BALANCING"], [2, 0, 1, "c.BMS_IC_DATA_CELL_VOLTAGES", "BMS_IC_DATA_CELL_VOLTAGES"], [2, 0, 1, "c.BMS_IC_DATA_CURRENT", "BMS_IC_DATA_CURRENT"], [2, 0, 1, "c.BMS_IC_DATA_ERROR_FLAGS", "BMS_IC_DATA_ERROR_FLAGS"], [2, 0, 1, "c.BMS_IC_DATA_PACK_VOLTAGES", "BMS_IC_DATA_PACK_VOLTAGES"], [2, 0, 1, "c.BMS_IC_DATA_TEMPERATURES", "BMS_IC_DATA_TEMPERATURES"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_ACTIVE", "BMS_IC_MODE_ACTIVE"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_IDLE", "BMS_IC_MODE_IDLE"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_OFF", "BMS_IC_MODE_OFF"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_STANDBY", "BMS_IC_MODE_STANDBY"], [1, 1, 1, "c.bms_state.BMS_STATE_CHG", "BMS_STATE_CHG"], [1, 1, 1, "c.bms_state.BMS_STATE_DIS", "BMS_STATE_DIS"], [1, 1, 1, "c.bms_state.BMS_STATE_NORMAL", "BMS_STATE_NORMAL"], [1, 1, 1, "c.bms_state.BMS_STATE_OFF", "BMS_STATE_OFF"], [1, 1, 1, "c.bms_state.BMS_STATE_SHUTDOWN", "BMS_STATE_SHUTDOWN"], [1, 0, 1, "c.BMS_SWITCH_CHG", "BMS_SWITCH_CHG"], [1, 0, 1, "c.BMS_SWITCH_DIS", "BMS_SWITCH_DIS"], [1, 0, 1, "c.BMS_SWITCH_PCHG", "BMS_SWITCH_PCHG"], [1, 0, 1, "c.BMS_SWITCH_PDSG", "BMS_SWITCH_PDSG"], [1, 1, 1, "c.bms_cell_type.CELL_TYPE_LFP", "CELL_TYPE_LFP"], [1, 1, 1, "c.bms_cell_type.CELL_TYPE_LTO", "CELL_TYPE_LTO"], [1, 1, 1, "c.bms_cell_type.CELL_TYPE_NMC", "CELL_TYPE_NMC"], [1, 0, 1, "c.NUM_OCV_POINTS", "NUM_OCV_POINTS"], [3, 2, 1, "c.bat_preset_lfp", "bat_preset_lfp"], [3, 2, 1, "c.bat_preset_lto", "bat_preset_lto"], [3, 2, 1, "c.bat_preset_nmc", "bat_preset_nmc"], [1, 3, 1, "c.bms_cell_type", "bms_cell_type"], [1, 2, 1, "c.bms_chg_allowed", "bms_chg_allowed"], [1, 2, 1, "c.bms_chg_error", "bms_chg_error"], [1, 5, 1, "c.bms_context", "bms_context"], [1, 2, 1, "c.bms_dis_allowed", "bms_dis_allowed"], [1, 2, 1, "c.bms_dis_error", "bms_dis_error"], [2, 2, 1, "c.bms_ic_assign_data", "bms_ic_assign_data"], [2, 2, 1, "c.bms_ic_balance", "bms_ic_balance"], [2, 5, 1, "c.bms_ic_conf", "bms_ic_conf"], [2, 2, 1, "c.bms_ic_configure", "bms_ic_configure"], [2, 5, 1, "c.bms_ic_data", "bms_ic_data"], [2, 2, 1, "c.bms_ic_debug_print_mem", "bms_ic_debug_print_mem"], [2, 3, 1, "c.bms_ic_mode", "bms_ic_mode"], [2, 2, 1, "c.bms_ic_read_data", "bms_ic_read_data"], [2, 2, 1, "c.bms_ic_read_mem", "bms_ic_read_mem"], [2, 2, 1, "c.bms_ic_set_mode", "bms_ic_set_mode"], [2, 2, 1, "c.bms_ic_write_mem", "bms_ic_write_mem"], [1, 2, 1, "c.bms_init_config", "bms_init_config"], [1, 2, 1, "c.bms_shutdown", "bms_shutdown"], [1, 2, 1, "c.bms_soc_reset", "bms_soc_reset"], [1, 2, 1, "c.bms_soc_update", "bms_soc_update"], [1, 3, 1, "c.bms_state", "bms_state"], [1, 2, 1, "c.bms_state_machine", "bms_state_machine"], [4, 2, 1, "c.button_init", "button_init"], [4, 2, 1, "c.button_pressed_for_3s", "button_pressed_for_3s"], [4, 2, 1, "c.byte2bitstr", "byte2bitstr"], [3, 2, 1, "c.data_objects_update_conf", "data_objects_update_conf"], [4, 2, 1, "c.interpolate", "interpolate"], [4, 2, 1, "c.is_empty", "is_empty"], [3, 2, 1, "c.print_registers", "print_registers"], [3, 2, 1, "c.reset_device", "reset_device"], [3, 2, 1, "c.shutdown", "shutdown"]], "bms_cell_type": [[1, 1, 1, "c.bms_cell_type.CELL_TYPE_LFP", "CELL_TYPE_LFP"], [1, 1, 1, "c.bms_cell_type.CELL_TYPE_LTO", "CELL_TYPE_LTO"], [1, 1, 1, "c.bms_cell_type.CELL_TYPE_NMC", "CELL_TYPE_NMC"]], "bms_chg_allowed": [[1, 4, 1, "c.bms_chg_allowed", "bms"]], "bms_chg_error": [[1, 4, 1, "c.bms_chg_error", "error_flags"]], "bms_context": [[1, 6, 1, "c.bms_context.chg_enable", "chg_enable"], [1, 6, 1, "c.bms_context.dis_enable", "dis_enable"], [1, 6, 1, "c.bms_context.empty", "empty"], [1, 6, 1, "c.bms_context.full", "full"], [1, 6, 1, "c.bms_context.ic_conf", "ic_conf"], [1, 6, 1, "c.bms_context.ic_data", "ic_data"], [1, 6, 1, "c.bms_context.ic_dev", "ic_dev"], [1, 6, 1, "c.bms_context.nominal_capacity_Ah", "nominal_capacity_Ah"], [1, 6, 1, "c.bms_context.ocv_points", "ocv_points"], [1, 6, 1, "c.bms_context.soc", "soc"], [1, 6, 1, "c.bms_context.soc_points", "soc_points"], [1, 6, 1, "c.bms_context.state", "state"]], "bms_dis_allowed": [[1, 4, 1, "c.bms_dis_allowed", "bms"]], "bms_dis_error": [[1, 4, 1, "c.bms_dis_error", "error_flags"]], "bms_ic_assign_data": [[2, 4, 1, "c.bms_ic_assign_data", "dev"], [2, 4, 1, "c.bms_ic_assign_data", "ic_data"]], "bms_ic_balance": [[2, 4, 1, "c.bms_ic_balance", "cells"], [2, 4, 1, "c.bms_ic_balance", "dev"]], "bms_ic_conf": [[2, 6, 1, "c.bms_ic_conf.alert_mask", "alert_mask"], [2, 6, 1, "c.bms_ic_conf.auto_balancing", "auto_balancing"], [2, 6, 1, "c.bms_ic_conf.bal_cell_voltage_diff", "bal_cell_voltage_diff"], [2, 6, 1, "c.bms_ic_conf.bal_cell_voltage_min", "bal_cell_voltage_min"], [2, 6, 1, "c.bms_ic_conf.bal_idle_current", "bal_idle_current"], [2, 6, 1, "c.bms_ic_conf.bal_idle_delay", "bal_idle_delay"], [2, 6, 1, "c.bms_ic_conf.cell_chg_voltage_limit", "cell_chg_voltage_limit"], [2, 6, 1, "c.bms_ic_conf.cell_dis_voltage_limit", "cell_dis_voltage_limit"], [2, 6, 1, "c.bms_ic_conf.cell_ov_delay_ms", "cell_ov_delay_ms"], [2, 6, 1, "c.bms_ic_conf.cell_ov_limit", "cell_ov_limit"], [2, 6, 1, "c.bms_ic_conf.cell_ov_reset", "cell_ov_reset"], [2, 6, 1, "c.bms_ic_conf.cell_uv_delay_ms", "cell_uv_delay_ms"], [2, 6, 1, "c.bms_ic_conf.cell_uv_limit", "cell_uv_limit"], [2, 6, 1, "c.bms_ic_conf.cell_uv_reset", "cell_uv_reset"], [2, 6, 1, "c.bms_ic_conf.chg_ot_limit", "chg_ot_limit"], [2, 6, 1, "c.bms_ic_conf.chg_ut_limit", "chg_ut_limit"], [2, 6, 1, "c.bms_ic_conf.dis_ot_limit", "dis_ot_limit"], [2, 6, 1, "c.bms_ic_conf.dis_ut_limit", "dis_ut_limit"], [2, 6, 1, "c.bms_ic_conf.temp_limit_hyst", "temp_limit_hyst"], [2, 6, 1, "c.bms_ic_conf.vregs_enable", "vregs_enable"]], "bms_ic_configure": [[2, 4, 1, "c.bms_ic_configure", "dev"], [2, 4, 1, "c.bms_ic_configure", "flags"], [2, 4, 1, "c.bms_ic_configure", "ic_conf"]], "bms_ic_data": [[2, 6, 1, "c.bms_ic_data.balancing_status", "balancing_status"], [2, 6, 1, "c.bms_ic_data.cell_temp_avg", "cell_temp_avg"], [2, 6, 1, "c.bms_ic_data.cell_temp_max", "cell_temp_max"], [2, 6, 1, "c.bms_ic_data.cell_temp_min", "cell_temp_min"], [2, 6, 1, "c.bms_ic_data.cell_temps", "cell_temps"], [2, 6, 1, "c.bms_ic_data.cell_voltage_avg", "cell_voltage_avg"], [2, 6, 1, "c.bms_ic_data.cell_voltage_max", "cell_voltage_max"], [2, 6, 1, "c.bms_ic_data.cell_voltage_min", "cell_voltage_min"], [2, 6, 1, "c.bms_ic_data.cell_voltages", "cell_voltages"], [2, 6, 1, "c.bms_ic_data.connected_cells", "connected_cells"], [2, 6, 1, "c.bms_ic_data.error_flags", "error_flags"], [2, 6, 1, "c.bms_ic_data.ic_temp", "ic_temp"], [2, 6, 1, "c.bms_ic_data.total_voltage", "total_voltage"], [2, 6, 1, "c.bms_ic_data.used_thermistors", "used_thermistors"]], "bms_ic_debug_print_mem": [[2, 4, 1, "c.bms_ic_debug_print_mem", "dev"]], "bms_ic_mode": [[2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_ACTIVE", "BMS_IC_MODE_ACTIVE"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_IDLE", "BMS_IC_MODE_IDLE"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_OFF", "BMS_IC_MODE_OFF"], [2, 1, 1, "c.bms_ic_mode.BMS_IC_MODE_STANDBY", "BMS_IC_MODE_STANDBY"]], "bms_ic_read_data": [[2, 4, 1, "c.bms_ic_read_data", "dev"], [2, 4, 1, "c.bms_ic_read_data", "flags"]], "bms_ic_read_mem": [[2, 4, 1, "c.bms_ic_read_mem", "addr"], [2, 4, 1, "c.bms_ic_read_mem", "data"], [2, 4, 1, "c.bms_ic_read_mem", "dev"], [2, 4, 1, "c.bms_ic_read_mem", "len"]], "bms_ic_set_mode": [[2, 4, 1, "c.bms_ic_set_mode", "dev"], [2, 4, 1, "c.bms_ic_set_mode", "mode"]], "bms_ic_write_mem": [[2, 4, 1, "c.bms_ic_write_mem", "addr"], [2, 4, 1, "c.bms_ic_write_mem", "data"], [2, 4, 1, "c.bms_ic_write_mem", "dev"], [2, 4, 1, "c.bms_ic_write_mem", "len"]], "bms_init_config": [[1, 4, 1, "c.bms_init_config", "bms"], [1, 4, 1, "c.bms_init_config", "capacity_Ah"], [1, 4, 1, "c.bms_init_config", "type"]], "bms_shutdown": [[1, 4, 1, "c.bms_shutdown", "bms"]], "bms_soc_reset": [[1, 4, 1, "c.bms_soc_reset", "bms"], [1, 4, 1, "c.bms_soc_reset", "percent"]], "bms_soc_update": [[1, 4, 1, "c.bms_soc_update", "bms"]], "bms_state": [[1, 1, 1, "c.bms_state.BMS_STATE_CHG", "BMS_STATE_CHG"], [1, 1, 1, "c.bms_state.BMS_STATE_DIS", "BMS_STATE_DIS"], [1, 1, 1, "c.bms_state.BMS_STATE_NORMAL", "BMS_STATE_NORMAL"], [1, 1, 1, "c.bms_state.BMS_STATE_OFF", "BMS_STATE_OFF"], [1, 1, 1, "c.bms_state.BMS_STATE_SHUTDOWN", "BMS_STATE_SHUTDOWN"]], "bms_state_machine": [[1, 4, 1, "c.bms_state_machine", "bms"]], "byte2bitstr": [[4, 4, 1, "c.byte2bitstr", "b"]], "data_objects_update_conf": [[3, 4, 1, "c.data_objects_update_conf", "reason"]], "interpolate": [[4, 4, 1, "c.interpolate", "a"], [4, 4, 1, "c.interpolate", "b"], [4, 4, 1, "c.interpolate", "size"], [4, 4, 1, "c.interpolate", "value_a"]], "is_empty": [[4, 4, 1, "c.is_empty", "buf"], [4, 4, 1, "c.is_empty", "size"]]}, "objtypes": {"0": "c:macro", "1": "c:enumerator", "2": "c:function", "3": "c:enum", "4": "c:functionParam", "5": "c:struct", "6": "c:member"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["c", "enumerator", "C enumerator"], "2": ["c", "function", "C function"], "3": ["c", "enum", "C enum"], "4": ["c", "functionParam", "C function parameter"], "5": ["c", "struct", "C struct"], "6": ["c", "member", "C member"]}, "titleterms": {"libr": 0, "solar": 0, "bm": [0, 1, 2, 11], "firmwar": [0, 5, 6], "document": 0, "applic": [1, 6], "front": 2, "end": 2, "ic": [2, 11], "driver": 2, "data": 3, "object": 3, "misc": 4, "button": 4, "helper": 4, "build": 5, "flash": 5, "board": [5, 11], "esp32": 5, "mcu": 5, "stm32": 5, "devic": 5, "upgrad": 5, "dfu": 5, "over": 5, "can": 5, "custom": 6, "hardwar": [6, 11], "specif": 6, "chang": 6, "configur": 6, "batteri": 6, "capac": 6, "cell": 6, "type": 6, "number": 6, "seri": 6, "serial": 6, "interfac": 6, "shield": 6, "uext": 6, "connector": 6, "simul": 7, "unit": 8, "test": 8, "workspac": 9, "setup": 9, "featur": 10, "support": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Simulator": [[7, "simulator"]], "Unit Tests": [[8, "unit-tests"]], "Customization": [[6, "customization"]], "Hardware-specific changes": [[6, "hardware-specific-changes"]], "Application firmware configuration": [[6, "application-firmware-configuration"]], "Change battery capacity, cell type and number of cells in series": [[6, "change-battery-capacity-cell-type-and-number-of-cells-in-series"]], "Configure serial interface": [[6, "configure-serial-interface"]], "Shields for UEXT connector": [[6, "shields-for-uext-connector"]], "Features": [[10, "features"]], "Supported Hardware": [[11, "supported-hardware"]], "Boards": [[11, "boards"]], "BMS ICs": [[11, "bms-ics"]], "Workspace Setup": [[9, "workspace-setup"]], "Data Objects": [[3, "data-objects"]], "Misc": [[4, "misc"]], "Button": [[4, "button"]], "Helper": [[4, "helper"]], "Building and Flashing": [[5, "building-and-flashing"]], "Boards with ESP32 MCU": [[5, "boards-with-esp32-mcu"]], "Boards with STM32 MCU": [[5, "boards-with-stm32-mcu"]], "Device Firmware Upgrade (DFU) over CAN": [[5, "device-firmware-upgrade-dfu-over-can"]], "Libre Solar BMS Firmware Documentation": [[0, "libre-solar-bms-firmware-documentation"]], "BMS front-end IC driver": [[2, "bms-front-end-ic-driver"]], "BMS application": [[1, "bms-application"]]}, "indexentries": {"bms_err_all (c macro)": [[1, "c.BMS_ERR_ALL"]], "bms_err_cell_failure (c macro)": [[1, "c.BMS_ERR_CELL_FAILURE"]], "bms_err_cell_overvoltage (c macro)": [[1, "c.BMS_ERR_CELL_OVERVOLTAGE"]], "bms_err_cell_undervoltage (c macro)": [[1, "c.BMS_ERR_CELL_UNDERVOLTAGE"]], "bms_err_chg_off (c macro)": [[1, "c.BMS_ERR_CHG_OFF"]], "bms_err_chg_overcurrent (c macro)": [[1, "c.BMS_ERR_CHG_OVERCURRENT"]], "bms_err_chg_overtemp (c macro)": [[1, "c.BMS_ERR_CHG_OVERTEMP"]], "bms_err_chg_undertemp (c macro)": [[1, "c.BMS_ERR_CHG_UNDERTEMP"]], "bms_err_dis_off (c macro)": [[1, "c.BMS_ERR_DIS_OFF"]], "bms_err_dis_overcurrent (c macro)": [[1, "c.BMS_ERR_DIS_OVERCURRENT"]], "bms_err_dis_overtemp (c macro)": [[1, "c.BMS_ERR_DIS_OVERTEMP"]], "bms_err_dis_undertemp (c macro)": [[1, "c.BMS_ERR_DIS_UNDERTEMP"]], "bms_err_fet_overtemp (c macro)": [[1, "c.BMS_ERR_FET_OVERTEMP"]], "bms_err_int_overtemp (c macro)": [[1, "c.BMS_ERR_INT_OVERTEMP"]], "bms_err_open_wire (c macro)": [[1, "c.BMS_ERR_OPEN_WIRE"]], "bms_err_short_circuit (c macro)": [[1, "c.BMS_ERR_SHORT_CIRCUIT"]], "bms_switch_chg (c macro)": [[1, "c.BMS_SWITCH_CHG"]], "bms_switch_dis (c macro)": [[1, "c.BMS_SWITCH_DIS"]], "bms_switch_pchg (c macro)": [[1, "c.BMS_SWITCH_PCHG"]], "bms_switch_pdsg (c macro)": [[1, "c.BMS_SWITCH_PDSG"]], "num_ocv_points (c macro)": [[1, "c.NUM_OCV_POINTS"]], "bms_cell_type (c enum)": [[1, "c.bms_cell_type"]], "bms_cell_type.cell_type_lfp (c enumerator)": [[1, "c.bms_cell_type.CELL_TYPE_LFP"]], "bms_cell_type.cell_type_lto (c enumerator)": [[1, "c.bms_cell_type.CELL_TYPE_LTO"]], "bms_cell_type.cell_type_nmc (c enumerator)": [[1, "c.bms_cell_type.CELL_TYPE_NMC"]], "bms_chg_allowed (c function)": [[1, "c.bms_chg_allowed"]], "bms_chg_error (c function)": [[1, "c.bms_chg_error"]], "bms_context (c struct)": [[1, "c.bms_context"]], "bms_context.chg_enable (c var)": [[1, "c.bms_context.chg_enable"]], "bms_context.dis_enable (c var)": [[1, "c.bms_context.dis_enable"]], "bms_context.empty (c var)": [[1, "c.bms_context.empty"]], "bms_context.full (c var)": [[1, "c.bms_context.full"]], "bms_context.ic_conf (c var)": [[1, "c.bms_context.ic_conf"]], "bms_context.ic_data (c var)": [[1, "c.bms_context.ic_data"]], "bms_context.ic_dev (c var)": [[1, "c.bms_context.ic_dev"]], "bms_context.nominal_capacity_ah (c var)": [[1, "c.bms_context.nominal_capacity_Ah"]], "bms_context.ocv_points (c var)": [[1, "c.bms_context.ocv_points"]], "bms_context.soc (c var)": [[1, "c.bms_context.soc"]], "bms_context.soc_points (c var)": [[1, "c.bms_context.soc_points"]], "bms_context.state (c var)": [[1, "c.bms_context.state"]], "bms_dis_allowed (c function)": [[1, "c.bms_dis_allowed"]], "bms_dis_error (c function)": [[1, "c.bms_dis_error"]], "bms_init_config (c function)": [[1, "c.bms_init_config"]], "bms_shutdown (c function)": [[1, "c.bms_shutdown"]], "bms_soc_reset (c function)": [[1, "c.bms_soc_reset"]], "bms_soc_update (c function)": [[1, "c.bms_soc_update"]], "bms_state (c enum)": [[1, "c.bms_state"]], "bms_state.bms_state_chg (c enumerator)": [[1, "c.bms_state.BMS_STATE_CHG"]], "bms_state.bms_state_dis (c enumerator)": [[1, "c.bms_state.BMS_STATE_DIS"]], "bms_state.bms_state_normal (c enumerator)": [[1, "c.bms_state.BMS_STATE_NORMAL"]], "bms_state.bms_state_off (c enumerator)": [[1, "c.bms_state.BMS_STATE_OFF"]], "bms_state.bms_state_shutdown (c enumerator)": [[1, "c.bms_state.BMS_STATE_SHUTDOWN"]], "bms_state_machine (c function)": [[1, "c.bms_state_machine"]], "bms_ic_conf_alerts (c macro)": [[2, "c.BMS_IC_CONF_ALERTS"]], "bms_ic_conf_all (c macro)": [[2, "c.BMS_IC_CONF_ALL"]], "bms_ic_conf_balancing (c macro)": [[2, "c.BMS_IC_CONF_BALANCING"]], "bms_ic_conf_current_limits (c macro)": [[2, "c.BMS_IC_CONF_CURRENT_LIMITS"]], "bms_ic_conf_temp_limits (c macro)": [[2, "c.BMS_IC_CONF_TEMP_LIMITS"]], "bms_ic_conf_voltage_limits (c macro)": [[2, "c.BMS_IC_CONF_VOLTAGE_LIMITS"]], "bms_ic_conf_voltage_regs (c macro)": [[2, "c.BMS_IC_CONF_VOLTAGE_REGS"]], "bms_ic_data_all (c macro)": [[2, "c.BMS_IC_DATA_ALL"]], "bms_ic_data_balancing (c macro)": [[2, "c.BMS_IC_DATA_BALANCING"]], "bms_ic_data_cell_voltages (c macro)": [[2, "c.BMS_IC_DATA_CELL_VOLTAGES"]], "bms_ic_data_current (c macro)": [[2, "c.BMS_IC_DATA_CURRENT"]], "bms_ic_data_error_flags (c macro)": [[2, "c.BMS_IC_DATA_ERROR_FLAGS"]], "bms_ic_data_pack_voltages (c macro)": [[2, "c.BMS_IC_DATA_PACK_VOLTAGES"]], "bms_ic_data_temperatures (c macro)": [[2, "c.BMS_IC_DATA_TEMPERATURES"]], "bms_ic_assign_data (c function)": [[2, "c.bms_ic_assign_data"]], "bms_ic_balance (c function)": [[2, "c.bms_ic_balance"]], "bms_ic_conf (c struct)": [[2, "c.bms_ic_conf"]], "bms_ic_conf.alert_mask (c var)": [[2, "c.bms_ic_conf.alert_mask"]], "bms_ic_conf.auto_balancing (c var)": [[2, "c.bms_ic_conf.auto_balancing"]], "bms_ic_conf.bal_cell_voltage_diff (c var)": [[2, "c.bms_ic_conf.bal_cell_voltage_diff"]], "bms_ic_conf.bal_cell_voltage_min (c var)": [[2, "c.bms_ic_conf.bal_cell_voltage_min"]], "bms_ic_conf.bal_idle_current (c var)": [[2, "c.bms_ic_conf.bal_idle_current"]], "bms_ic_conf.bal_idle_delay (c var)": [[2, "c.bms_ic_conf.bal_idle_delay"]], "bms_ic_conf.cell_chg_voltage_limit (c var)": [[2, "c.bms_ic_conf.cell_chg_voltage_limit"]], "bms_ic_conf.cell_dis_voltage_limit (c var)": [[2, "c.bms_ic_conf.cell_dis_voltage_limit"]], "bms_ic_conf.cell_ov_delay_ms (c var)": [[2, "c.bms_ic_conf.cell_ov_delay_ms"]], "bms_ic_conf.cell_ov_limit (c var)": [[2, "c.bms_ic_conf.cell_ov_limit"]], "bms_ic_conf.cell_ov_reset (c var)": [[2, "c.bms_ic_conf.cell_ov_reset"]], "bms_ic_conf.cell_uv_delay_ms (c var)": [[2, "c.bms_ic_conf.cell_uv_delay_ms"]], "bms_ic_conf.cell_uv_limit (c var)": [[2, "c.bms_ic_conf.cell_uv_limit"]], "bms_ic_conf.cell_uv_reset (c var)": [[2, "c.bms_ic_conf.cell_uv_reset"]], "bms_ic_conf.chg_ot_limit (c var)": [[2, "c.bms_ic_conf.chg_ot_limit"]], "bms_ic_conf.chg_ut_limit (c var)": [[2, "c.bms_ic_conf.chg_ut_limit"]], "bms_ic_conf.dis_ot_limit (c var)": [[2, "c.bms_ic_conf.dis_ot_limit"]], "bms_ic_conf.dis_ut_limit (c var)": [[2, "c.bms_ic_conf.dis_ut_limit"]], "bms_ic_conf.temp_limit_hyst (c var)": [[2, "c.bms_ic_conf.temp_limit_hyst"]], "bms_ic_conf.vregs_enable (c var)": [[2, "c.bms_ic_conf.vregs_enable"]], "bms_ic_configure (c function)": [[2, "c.bms_ic_configure"]], "bms_ic_data (c struct)": [[2, "c.bms_ic_data"]], "bms_ic_data.balancing_status (c var)": [[2, "c.bms_ic_data.balancing_status"]], "bms_ic_data.cell_temp_avg (c var)": [[2, "c.bms_ic_data.cell_temp_avg"]], "bms_ic_data.cell_temp_max (c var)": [[2, "c.bms_ic_data.cell_temp_max"]], "bms_ic_data.cell_temp_min (c var)": [[2, "c.bms_ic_data.cell_temp_min"]], "bms_ic_data.cell_temps (c var)": [[2, "c.bms_ic_data.cell_temps"]], "bms_ic_data.cell_voltage_avg (c var)": [[2, "c.bms_ic_data.cell_voltage_avg"]], "bms_ic_data.cell_voltage_max (c var)": [[2, "c.bms_ic_data.cell_voltage_max"]], "bms_ic_data.cell_voltage_min (c var)": [[2, "c.bms_ic_data.cell_voltage_min"]], "bms_ic_data.cell_voltages (c var)": [[2, "c.bms_ic_data.cell_voltages"]], "bms_ic_data.connected_cells (c var)": [[2, "c.bms_ic_data.connected_cells"]], "bms_ic_data.error_flags (c var)": [[2, "c.bms_ic_data.error_flags"]], "bms_ic_data.ic_temp (c var)": [[2, "c.bms_ic_data.ic_temp"]], "bms_ic_data.total_voltage (c var)": [[2, "c.bms_ic_data.total_voltage"]], "bms_ic_data.used_thermistors (c var)": [[2, "c.bms_ic_data.used_thermistors"]], "bms_ic_debug_print_mem (c function)": [[2, "c.bms_ic_debug_print_mem"]], "bms_ic_mode (c enum)": [[2, "c.bms_ic_mode"]], "bms_ic_mode.bms_ic_mode_active (c enumerator)": [[2, "c.bms_ic_mode.BMS_IC_MODE_ACTIVE"]], "bms_ic_mode.bms_ic_mode_idle (c enumerator)": [[2, "c.bms_ic_mode.BMS_IC_MODE_IDLE"]], "bms_ic_mode.bms_ic_mode_off (c enumerator)": [[2, "c.bms_ic_mode.BMS_IC_MODE_OFF"]], "bms_ic_mode.bms_ic_mode_standby (c enumerator)": [[2, "c.bms_ic_mode.BMS_IC_MODE_STANDBY"]], "bms_ic_read_data (c function)": [[2, "c.bms_ic_read_data"]], "bms_ic_read_mem (c function)": [[2, "c.bms_ic_read_mem"]], "bms_ic_set_mode (c function)": [[2, "c.bms_ic_set_mode"]], "bms_ic_write_mem (c function)": [[2, "c.bms_ic_write_mem"]], "app_id_conf (c macro)": [[3, "c.APP_ID_CONF"]], "app_id_conf_bal_idle_current (c macro)": [[3, "c.APP_ID_CONF_BAL_IDLE_CURRENT"]], "app_id_conf_bal_idle_delay (c macro)": [[3, "c.APP_ID_CONF_BAL_IDLE_DELAY"]], "app_id_conf_bal_min_voltage (c macro)": [[3, "c.APP_ID_CONF_BAL_MIN_VOLTAGE"]], "app_id_conf_bal_target_diff (c macro)": [[3, "c.APP_ID_CONF_BAL_TARGET_DIFF"]], "app_id_conf_cell_overvoltage (c macro)": [[3, "c.APP_ID_CONF_CELL_OVERVOLTAGE"]], "app_id_conf_cell_overvoltage_delay (c macro)": [[3, "c.APP_ID_CONF_CELL_OVERVOLTAGE_DELAY"]], "app_id_conf_cell_overvoltage_reset (c macro)": [[3, "c.APP_ID_CONF_CELL_OVERVOLTAGE_RESET"]], "app_id_conf_cell_undervoltage (c macro)": [[3, "c.APP_ID_CONF_CELL_UNDERVOLTAGE"]], "app_id_conf_cell_undervoltage_delay (c macro)": [[3, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY"]], "app_id_conf_cell_undervoltage_reset (c macro)": [[3, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_RESET"]], "app_id_conf_chg_max_temp (c macro)": [[3, "c.APP_ID_CONF_CHG_MAX_TEMP"]], "app_id_conf_chg_min_temp (c macro)": [[3, "c.APP_ID_CONF_CHG_MIN_TEMP"]], "app_id_conf_chg_overcurrent (c macro)": [[3, "c.APP_ID_CONF_CHG_OVERCURRENT"]], "app_id_conf_chg_overcurrent_delay (c macro)": [[3, "c.APP_ID_CONF_CHG_OVERCURRENT_DELAY"]], "app_id_conf_dis_max_temp (c macro)": [[3, "c.APP_ID_CONF_DIS_MAX_TEMP"]], "app_id_conf_dis_min_temp (c macro)": [[3, "c.APP_ID_CONF_DIS_MIN_TEMP"]], "app_id_conf_dis_overcurrent (c macro)": [[3, "c.APP_ID_CONF_DIS_OVERCURRENT"]], "app_id_conf_dis_overcurrent_delay (c macro)": [[3, "c.APP_ID_CONF_DIS_OVERCURRENT_DELAY"]], "app_id_conf_nominal_capacity (c macro)": [[3, "c.APP_ID_CONF_NOMINAL_CAPACITY"]], "app_id_conf_ocv_points (c macro)": [[3, "c.APP_ID_CONF_OCV_POINTS"]], "app_id_conf_preset_lfp (c macro)": [[3, "c.APP_ID_CONF_PRESET_LFP"]], "app_id_conf_preset_lfp_capacity (c macro)": [[3, "c.APP_ID_CONF_PRESET_LFP_CAPACITY"]], "app_id_conf_preset_lto (c macro)": [[3, "c.APP_ID_CONF_PRESET_LTO"]], "app_id_conf_preset_lto_capacity (c macro)": [[3, "c.APP_ID_CONF_PRESET_LTO_CAPACITY"]], "app_id_conf_preset_nmc (c macro)": [[3, "c.APP_ID_CONF_PRESET_NMC"]], "app_id_conf_preset_nmc_capacity (c macro)": [[3, "c.APP_ID_CONF_PRESET_NMC_CAPACITY"]], "app_id_conf_short_circuit_current (c macro)": [[3, "c.APP_ID_CONF_SHORT_CIRCUIT_CURRENT"]], "app_id_conf_short_circuit_delay (c macro)": [[3, "c.APP_ID_CONF_SHORT_CIRCUIT_DELAY"]], "app_id_conf_soc_points (c macro)": [[3, "c.APP_ID_CONF_SOC_POINTS"]], "app_id_conf_temp_hyst (c macro)": [[3, "c.APP_ID_CONF_TEMP_HYST"]], "app_id_device (c macro)": [[3, "c.APP_ID_DEVICE"]], "app_id_device_fw_ver (c macro)": [[3, "c.APP_ID_DEVICE_FW_VER"]], "app_id_device_hw_ver (c macro)": [[3, "c.APP_ID_DEVICE_HW_VER"]], "app_id_device_manufacturer (c macro)": [[3, "c.APP_ID_DEVICE_MANUFACTURER"]], "app_id_device_print_reg (c macro)": [[3, "c.APP_ID_DEVICE_PRINT_REG"]], "app_id_device_print_regs (c macro)": [[3, "c.APP_ID_DEVICE_PRINT_REGS"]], "app_id_device_print_reg_addr (c macro)": [[3, "c.APP_ID_DEVICE_PRINT_REG_ADDR"]], "app_id_device_reset (c macro)": [[3, "c.APP_ID_DEVICE_RESET"]], "app_id_device_shutdown (c macro)": [[3, "c.APP_ID_DEVICE_SHUTDOWN"]], "app_id_device_type (c macro)": [[3, "c.APP_ID_DEVICE_TYPE"]], "app_id_input (c macro)": [[3, "c.APP_ID_INPUT"]], "app_id_input_chg_enable (c macro)": [[3, "c.APP_ID_INPUT_CHG_ENABLE"]], "app_id_input_dis_enable (c macro)": [[3, "c.APP_ID_INPUT_DIS_ENABLE"]], "app_id_meas (c macro)": [[3, "c.APP_ID_MEAS"]], "app_id_meas_balancing_status (c macro)": [[3, "c.APP_ID_MEAS_BALANCING_STATUS"]], "app_id_meas_bms_state (c macro)": [[3, "c.APP_ID_MEAS_BMS_STATE"]], "app_id_meas_cell_avg_voltage (c macro)": [[3, "c.APP_ID_MEAS_CELL_AVG_VOLTAGE"]], "app_id_meas_cell_max_voltage (c macro)": [[3, "c.APP_ID_MEAS_CELL_MAX_VOLTAGE"]], "app_id_meas_cell_min_voltage (c macro)": [[3, "c.APP_ID_MEAS_CELL_MIN_VOLTAGE"]], "app_id_meas_cell_temps (c macro)": [[3, "c.APP_ID_MEAS_CELL_TEMPS"]], "app_id_meas_cell_voltages (c macro)": [[3, "c.APP_ID_MEAS_CELL_VOLTAGES"]], "app_id_meas_error_flags (c macro)": [[3, "c.APP_ID_MEAS_ERROR_FLAGS"]], "app_id_meas_ic_temp (c macro)": [[3, "c.APP_ID_MEAS_IC_TEMP"]], "app_id_meas_mcu_temp (c macro)": [[3, "c.APP_ID_MEAS_MCU_TEMP"]], "app_id_meas_mosfet_temp (c macro)": [[3, "c.APP_ID_MEAS_MOSFET_TEMP"]], "app_id_meas_pack_current (c macro)": [[3, "c.APP_ID_MEAS_PACK_CURRENT"]], "app_id_meas_pack_voltage (c macro)": [[3, "c.APP_ID_MEAS_PACK_VOLTAGE"]], "app_id_meas_soc (c macro)": [[3, "c.APP_ID_MEAS_SOC"]], "app_id_meas_stack_voltage (c macro)": [[3, "c.APP_ID_MEAS_STACK_VOLTAGE"]], "bat_preset_lfp (c function)": [[3, "c.bat_preset_lfp"]], "bat_preset_lto (c function)": [[3, "c.bat_preset_lto"]], "bat_preset_nmc (c function)": [[3, "c.bat_preset_nmc"]], "data_objects_update_conf (c function)": [[3, "c.data_objects_update_conf"]], "print_registers (c function)": [[3, "c.print_registers"]], "reset_device (c function)": [[3, "c.reset_device"]], "shutdown (c function)": [[3, "c.shutdown"]], "button_init (c function)": [[4, "c.button_init"]], "button_pressed_for_3s (c function)": [[4, "c.button_pressed_for_3s"]], "byte2bitstr (c function)": [[4, "c.byte2bitstr"]], "interpolate (c function)": [[4, "c.interpolate"]], "is_empty (c function)": [[4, "c.is_empty"]]}})